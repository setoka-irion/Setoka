<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>입양 상세 페이지</title>
	<meta charset="UTF-8">
</head>

<body>

	<a th:href="@{/}" class="button-link">홈으로</a>
	<a th:href="@{/Adopt}" class="button-link">입양 게시판</a>
	<h1>입양 게시판</h1>

	<!-- 상단 정보 테이블-->
	<table>
		<thead>
			<tr>
				<th>제목</th>
				<th>작성자</th>
				<th>작성일</th>
				<th>수정</th>
				<th>삭제</th>
			</tr>
		</thead>

		<tbody>
			<tr th:each="board: ${detail}">
				<td th:text="${board.title}"></td>
				<td th:text="${board.nickName}"></td>
				<td th:text="${board.registerDate}"></td>

				<td>
					<form th:action="@{'/AdoptUpdate/' + ${board.boardNum}}"></a>
						<button type="submit">수정</button>
					</form>
				</td>


				<td>
					<form th:action="@{'/AdoptDelete/' + ${board.boardNum}}" 
					method="post" style="display:inline;"
						onsubmit="return confirm('정말 삭제하시겠습니까?')">
						<button type="submit">삭제</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>


	<!-- 하단 본문 테이블-->
	<h3>본문</h3>
	<table>
		<tr th:each="board : ${detail}">
			<td th:text="${board.content}"></td>
		</tr>
	</table>

	<h3>쓰담</h3>
	<table>
		<tr th:each="board : ${detail}">
			<td>
				<span th:text="${board.likes}">0</span> ❤️
				<form th:action="@{/AdoptDetail/{boardNum}/like(boardNum=${detail.boardNum})}" method="post"
					style="display:inline;">
					<input type="hidden" th:name="boardNum" th:value="${board.boardNum}" />
					<button type="submit">좋아요</button>
				</form>
			</td>
		</tr>
	</table>


	<h4>댓글</h4>
	<!-- 댓글 출력-->
	<table>
		<tr th:each="comment : ${comments}">
			<td th:text="${comment.nickname}"></td>			
			<td th:text="${comment.content}"></td>
			<td th:text="${comment.userGrade}"></td>
			<td th:text="${comment.registerDate}"></td>
		</tr>
	</table>
			
	<h4>댓글 작성</h4>
	<form th:action="@{/AdoptDetail/{num}/comment(num=${detail.boardNum})}" method="post">
	    <input type="hidden" name="parentNum" value="0" />
	    <textarea name="content" placeholder="댓글을 입력하세요" required></textarea>
	    <br />
	    <button type="submit">댓글 등록</button>
	</form>
</body>

</html>